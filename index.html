<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neovim â€” Quick Reference</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'media',
      theme: {
        extend: {
          fontSize: {
            '2xs': '0.75rem',
          }
        }
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer base {
      body {
        @apply bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-100;
      }
    }
    @layer components {
      .card {
        @apply bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded px-2.5 py-2 mb-2;
      }
      .card-title {
        @apply text-sm font-semibold mb-1.5 text-gray-800 dark:text-gray-200 uppercase tracking-wide;
      }
      .card-subtitle {
        @apply text-xs font-normal normal-case tracking-normal text-gray-500 dark:text-gray-400;
      }
      .grid-keys {
        @apply grid gap-y-0;
      }
      .key-row {
        @apply flex items-baseline gap-2 py-px;
      }
      .key-row kbd {
        @apply shrink-0 min-w-[8rem] text-right font-mono text-2xs px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-800 dark:text-gray-200;
      }
      .key-row span {
        @apply text-2xs text-gray-600 dark:text-gray-400;
      }
      .section-label {
        @apply text-sm font-bold mb-1.5 text-gray-700 dark:text-gray-300;
      }
    }
  </style>
</head>
<body class="antialiased p-3">

  <div class="flex gap-3 mb-2 text-2xs">
    <span class="font-semibold text-gray-800 dark:text-gray-200"><span class="underline">n</span>eovim</span>
    <a href="tmux/" class="text-gray-400 dark:text-gray-600 hover:text-gray-600 dark:hover:text-gray-400 transition-colors">t<span class="font-bold">m</span>ux</a>
    <a href="system/" class="text-gray-400 dark:text-gray-600 hover:text-gray-600 dark:hover:text-gray-400 transition-colors">mac<span class="font-bold">O</span>S</a>
    <a href="tools/" class="text-gray-400 dark:text-gray-600 hover:text-gray-600 dark:hover:text-gray-400 transition-colors"><span class="font-bold">t</span>ools</a>
  </div>

  <div class="grid grid-cols-4 gap-3 items-start">

    <!-- ===== COLUMN 1: Core vim ===== -->
    <div>
      <div class="section-label">&nbsp;</div>

      <div class="card">
        <h2 class="card-title">Text Objects</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>iw / aw</kbd><span>inner word / a word</span></div>
          <div class="key-row"><kbd>is / as</kbd><span>inner sentence / a sentence</span></div>
          <div class="key-row"><kbd>ip / ap</kbd><span>inner paragraph / a paragraph</span></div>
          <div class="key-row"><kbd>i) / a)</kbd><span>inner parens / a parens</span></div>
          <div class="key-row"><kbd>i' / a'</kbd><span>inner single quotes / a single quotes</span></div>
          <div class="key-row"><kbd>i" / a"</kbd><span>inner double quotes / a double quotes</span></div>
          <div class="key-row"><kbd>it / at</kbd><span>inner tag / a tag</span></div>
          <div class="key-row"><kbd>ih</kbd><span>inner diff hunk</span></div>
          <div class="key-row"><kbd>il / al</kbd><span>inner line / a line</span></div>
          <div class="key-row"><kbd>ie / ae</kbd><span>inner entire (file) / an entire (file)</span></div>
          <div class="key-row"><kbd>ii / ai</kbd><span>inner indent / a indent</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Operator Examples</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>d[jk]</kbd><span>delete down/up a line</span></div>
          <div class="key-row"><kbd>dt)</kbd><span>delete until next closing )</span></div>
          <div class="key-row"><kbd>d/rails</kbd><span>delete until the word rails</span></div>
          <div class="key-row"><kbd>ci"</kbd><span>change inside "</span></div>
          <div class="key-row"><kbd>[c|d|y]w</kbd><span>change/delete/yank word</span></div>
          <div class="key-row"><kbd>[c|d|y]i"</kbd><span>change/delete/yank inside "</span></div>
          <div class="key-row"><kbd>vi"p</kbd><span>visual select inside " and paste</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Surround</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>cs])</kbd><span>change surrounding [] to ()</span></div>
          <div class="key-row"><kbd>ds]</kbd><span>delete surrounding []</span></div>
          <div class="key-row"><kbd>ysi[w|l]"</kbd><span>insert " around word/line</span></div>
          <div class="key-row"><kbd>S"</kbd><span>wrap visual selection with "</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Treesitter</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>gri</kbd><span>start incremental selection</span></div>
          <div class="key-row"><kbd>grn</kbd><span>increment select node</span></div>
          <div class="key-row"><kbd>grp</kbd><span>decrement select node</span></div>
          <div class="key-row"><kbd>grs</kbd><span>increment select scope</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Spelling</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>z=</kbd><span>suggest</span></div>
          <div class="key-row"><kbd>zg</kbd><span>learn word</span></div>
          <div class="key-row"><kbd>zw</kbd><span>mark word misspelled</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Comment</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>[count]gcc</kbd><span>comment line(s)</span></div>
          <div class="key-row"><kbd>gc[O|o]</kbd><span>comment line above / below</span></div>
          <div class="key-row"><kbd>gcA</kbd><span>comment end of line</span></div>
          <div class="key-row"><kbd>gc[count]{motion}</kbd><span>comment with motion</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Folds</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>za</kbd><span>toggle open/close fold</span></div>
          <div class="key-row"><kbd>zR</kbd><span>open all folds</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Recording</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>qq</kbd><span>start recording into q</span></div>
          <div class="key-row"><kbd>@q</kbd><span>play q recording</span></div>
        </div>
      </div>
    </div>

    <!-- ===== COLUMN 2: Motions, operators, basic, menus ===== -->
    <div>
      <div class="section-label">&nbsp;</div>

      <div class="card">
        <h2 class="card-title">Motions / Movements</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>[f|F]&lt;char&gt;</kbd><span>find char and jump to it</span></div>
          <div class="key-row"><kbd>[t|T]&lt;char&gt;</kbd><span>find char and jump until it</span></div>
          <div class="key-row"><kbd>w / b</kbd><span>jump by word forward / backward</span></div>
          <div class="key-row"><kbd>[shift]-/</kbd><span>search up / down</span></div>
          <div class="key-row"><kbd>N / n</kbd><span>repeat search forward / backwards</span></div>
          <div class="key-row"><kbd># / *</kbd><span>search back / forward for cursor word</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;n</kbd><span>remove highlight</span></div>
          <div class="key-row"><kbd>ctrl-o / ctrl-i</kbd><span>go back to before / after</span></div>
          <div class="key-row"><kbd>^</kbd><span>first non-blank char of line</span></div>
          <div class="key-row"><kbd>$</kbd><span>end of line</span></div>
          <div class="key-row"><kbd>0</kbd><span>beginning of line</span></div>
          <div class="key-row"><kbd>gg</kbd><span>first line in buffer</span></div>
          <div class="key-row"><kbd>G</kbd><span>last line in buffer</span></div>
          <div class="key-row"><kbd>H / M / L</kbd><span>high / middle / low of window</span></div>
          <div class="key-row"><kbd>ctrl-d / ctrl-u</kbd><span>scroll down / up half screens</span></div>
          <div class="key-row"><kbd>zz</kbd><span>center current line</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Operators</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>d</kbd><span>delete</span></div>
          <div class="key-row"><kbd>y</kbd><span>yank</span></div>
          <div class="key-row"><kbd>c</kbd><span>change</span></div>
          <div class="key-row"><kbd>&gt; / &lt;</kbd><span>indent / dedent</span></div>
          <div class="key-row"><kbd>=</kbd><span>reformat</span></div>
          <div class="key-row"><kbd>~</kbd><span>toggle case</span></div>

          <div class="key-row"><kbd>gq</kbd><span>format lines to textwidth</span></div>
          <div class="key-row"><kbd>gs</kbd><span>sort selection</span></div>
          <div class="key-row"><kbd>ga=</kbd><span>align selection on = sign</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Basic Usage</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>][b</kbd><span>cycle buffers</span></div>
          <div class="key-row"><kbd>.</kbd><span>repeat last motion/command</span></div>
          <div class="key-row"><kbd>ZZ</kbd><span>write file and exit</span></div>
          <div class="key-row"><kbd>ZQ</kbd><span>exit without writing file</span></div>
          <div class="key-row"><kbd>i / I</kbd><span>insert before cursor / beginning of line</span></div>
          <div class="key-row"><kbd>x / X</kbd><span>delete char after / before cursor</span></div>
          <div class="key-row"><kbd>r / R</kbd><span>replace char / overwrite chars</span></div>
          <div class="key-row"><kbd>D</kbd><span>delete cursor to end of line</span></div>
          <div class="key-row"><kbd>a / A</kbd><span>insert after cursor / end of line</span></div>
          <div class="key-row"><kbd>o / O</kbd><span>new line below / above cursor</span></div>
        </div>
      </div>

    </div>

    <!-- ===== COLUMN 3: Menus, AI, Terminal, LSP, Pickers ===== -->
    <div>
      <div class="section-label">&nbsp;</div>

      <div class="card">
        <h2 class="card-title">Menus</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>gl</kbd><span>LSP</span></div>
          <div class="key-row"><kbd>gd</kbd><span>Diagnostics</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;t</kbd><span>testing menu</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;h</kbd><span>git</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;d</kbd><span>debug / diagnostic menu</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;a</kbd><span>AI menu</span></div>
          <div class="key-row"><kbd>ctrl-f</kbd><span>Snacks menu</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">AI</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>&lt;leader&gt;aa / ctrl-/</kbd><span>toggle AI</span></div>
          <div class="key-row"><kbd>ctrl-b</kbd><span>insert buffers</span></div>
          <div class="key-row"><kbd>ctrl-f</kbd><span>insert files</span></div>
          <div class="key-row"><kbd>ctrl-p</kbd><span>prompt</span></div>
          <div class="key-row"><kbd>ctrl-q</kbd><span>stop insert / quit</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Terminal</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>ctrl-\</kbd><span>toggle a terminal</span></div>
          <div class="key-row"><kbd>ctrl-]</kbd><span>escape to normal mode</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">LSP</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>gl</kbd><span>main menu</span></div>
          <div class="key-row"><kbd>K</kbd><span>hover info (K into float, q close)</span></div>
          <div class="key-row"><kbd>ctrl-]</kbd><span>go definition &rarr; symbol &rarr; c-tag</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Pickers</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>ctrl-n</kbd><span>file tree</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;f</kbd><span>find file mode</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;s</kbd><span>live grep mode</span></div>
          <div class="key-row"><kbd>ctrl-l</kbd><span>scope folder(s)</span></div>
          <div class="key-row"><kbd>ctrl-f</kbd><span>scope file extension</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;w</kbd><span>grep cursor word</span></div>
          <div class="key-row"><kbd>ctrl-f h</kbd><span>help</span></div>
          <div class="key-row"><kbd>ctrl-f k</kbd><span>key mappings</span></div>
          <div class="key-row"><kbd>ctrl-f c</kbd><span>commands</span></div>
          <div class="key-row"><kbd>ctrl-r</kbd><span>command history (cmd mode)</span></div>
          <div class="key-row"><kbd>ctrl-p / ctrl-n</kbd><span>previous / next</span></div>
          <div class="key-row"><kbd>ctrl-u / ctrl-d</kbd><span>up / down in preview</span></div>
          <div class="key-row"><kbd>return</kbd><span>open result</span></div>
          <div class="key-row"><kbd>ctrl-v</kbd><span>open in vertical split</span></div>
          <div class="key-row"><kbd>ctrl-x</kbd><span>open in horizontal split</span></div>
          <div class="key-row"><kbd>ctrl-t</kbd><span>open in tab</span></div>
          <div class="key-row"><kbd>ctrl-g</kbd><span>toggle fuzzy / live grep</span></div>
          <div class="key-row"><kbd>ctrl-q</kbd><span>send to quickfix</span></div>
          <div class="key-row"><kbd>[shift] tab</kbd><span>toggle selection up/down</span></div>
        </div>
      </div>
    </div>

    <!-- ===== COLUMN 4: Search, Quickfix, Completion, Snippets, Git, Tmux ===== -->
    <div>
      <div class="section-label">&nbsp;</div>

      <div class="card">
        <h2 class="card-title">Search &amp; Replace</h2>
        <p class="text-2xs text-gray-500 dark:text-gray-500 mb-1">Within quickfix/loclist. <code class="text-2xs px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">cdo</code> per line entry, <code class="text-2xs px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">cfdo</code> per file (use <code class="text-2xs px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">%</code> for whole file).</p>
        <div class="grid-keys">
          <div class="key-row"><kbd>cdo s/\vfoo/bar/g | write</kbd><span>replace per line</span></div>
          <div class="key-row"><kbd>cfdo %s/\vfoo/bar/g | write</kbd><span>replace per file</span></div>
          <div class="key-row"><kbd>cfdo write</kbd><span>write all files</span></div>
          <div class="key-row"><kbd>cfdo normal undo</kbd><span>undo last change</span></div>
        </div>
        <p class="text-2xs text-gray-500 dark:text-gray-500 mt-1.5 leading-relaxed"><code class="px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">\v</code> non-vim regex <code class="px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">g</code> multi-match <code class="px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">c</code> confirm <code class="px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">()</code> groups with <code class="px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">\1</code> <code class="px-1 py-px bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded">\2</code></p>
      </div>

      <div class="card">
        <h2 class="card-title">Quickfix / Loclist</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>&lt;leader&gt;q</kbd><span>toggle quickfix list</span></div>
          <div class="key-row"><kbd>&lt;leader&gt;l</kbd><span>toggle location list</span></div>
          <div class="key-row"><kbd>tab</kbd><span>mark/sign an item</span></div>
          <div class="key-row"><kbd>z tab</kbd><span>clear marks/signs</span></div>
          <div class="key-row"><kbd>zn / zN</kbd><span>new qf signed / non-signed</span></div>
          <div class="key-row"><kbd>zf</kbd><span>fuzzy find qf list</span></div>
          <div class="key-row"><kbd>&lt; / &gt;</kbd><span>cycle between qf lists</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Completion</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>ctrl-p / ctrl-n</kbd><span>previous / next</span></div>
          <div class="key-row"><kbd>ctrl-u / ctrl-d</kbd><span>up / down in docs</span></div>
          <div class="key-row"><kbd>ctrl-y</kbd><span>confirm selection</span></div>
          <div class="key-row"><kbd>ctrl-e</kbd><span>abort completion</span></div>
          <div class="key-row"><kbd>ctrl-space</kbd><span>trigger completion</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Snippets</h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>tab</kbd><span>prev / next / trigger jumpable</span></div>
          <div class="key-row"><kbd>ctrl-p / ctrl-n / ctrl-u</kbd><span>prev / next / ui choice(s)</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Vimdiff <span class="card-subtitle">(git mergetool)</span></h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>ggl</kbd><span>diff get local (right)</span></div>
          <div class="key-row"><kbd>dgu</kbd><span>diff get upstream (left)</span></div>
          <div class="key-row"><kbd>]m</kbd><span>next conflict</span></div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Kaleidoscope <span class="card-subtitle">(mergetool --gui)</span></h2>
        <div class="grid-keys">
          <div class="key-row"><kbd>cmd-[left|right]</kbd><span>accept arrow side</span></div>
          <div class="key-row"><kbd>cmd-alt-[left|right]</kbd><span>accept both, arrow first</span></div>
          <div class="key-row"><kbd>cmd-[up|down]</kbd><span>cycle changes</span></div>
        </div>
      </div>

    </div>

  </div>

  <script>
    document.addEventListener('keydown', e => {
      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
      if (e.key === 'm') window.location.href = 'tmux/';
      if (e.key === 'o') window.location.href = 'system/';
      if (e.key === 't') window.location.href = 'tools/';
    });
  </script>
</body>
</html>
